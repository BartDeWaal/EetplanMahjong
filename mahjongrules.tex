\documentclass{article}

% This type of document will contain a lot of lists and short sentences, so we want no indented paragraphs and tight lists
\usepackage{parskip}
\usepackage{mdwlist}
% TODO: style better
% TODO: Eetplan logo?

\begin{document}
% I tried to add Chinese, but I failed miserably
\title{Eetplan Rules of Mahjong}
\author{Bart}
\maketitle

\section{General Considerations}
This document is meant to describe the way we play mahjong at eetplan. The goal of the game is to make either money or ``money'', both expressed as points. The real goal of the game is to learn chinese.

Here we describe Mahjong as played by four players. If a different number is wanted, they will have to agree on the rules.

The game is played by playing rounds followed by rounds, until the players decide to stop.

To begin the game, give all players the same amount of points and choose a first host.

\section{Equipment}
We play with a standard mahjong set, containing for duplicates of each of these tiles:
\begin{itemize*}
    \item Pancakes 1--9
    \item Ten thousand 1--9
    \item Little Bird (Bamboo 1)
    \item Bamboo 2--9
    \item North, South, East and West
    \item Chong, Fa and Ghost Face Killer
\end{itemize*}

In adition, we need counters for points, a good table, and a pair of dice.

\section{Definitions}
\emph{The Wall} is the set of all tiles that would normally be drawn from, normally arranged in a pleasing manner as described below.

The \emph{Kong Stack} is 12 tiles kept seperate from the rest of the Wall. It's used to top up a player's hand when they get a Kong.

A \emph{pair} is two duplicate tiles.

A \emph{set} is any one of:
\begin{enumerate*}
    \item A \emph{Pung}, three duplicate tiles,
    \item A \emph{Kong}, four duplicate tiles, or
    \item A \emph{Chow}, a run of three tiles in the same suit. A run means three tiles, one with the smallest value, one with the smallest value $+1$, one with the smallest value $+2$. Runs don't ``loop around''; 8, 9, 1 is not a run.
\end{enumerate*}

A Kong can be either \emph{hidden} or \emph{open}, depending on how it was played. A hidden Kong is face down, an open Kong isn't.

A player \emph{completes a hand} if it's her turn and she has four sets and a pair.

A player is \emph{fishing} if she only needs one tile to complete her hand. Even if it isn't actually possible for her to draw a tile that would complete her hand (because all duplicates of that tile have been discarded, for example) she is still fishing.

\section{Playing a round}
\subsection{The Wall}
After the tiles are turned face down and shuffled, each player makes a wall that is (about) 17 wide and (exactly) 2 high. These four walls are pushed together to form the Wall.

The host rolls the dice. She now goes through the sides of the Wall in turn, counterclockwise and starting at the section in front of her, until she reaches the sum of the die.

Now the Wall is broken between the $n$th and $n+1$th most counterclockwise pairs of tiles in that side of the wall. Here, $n$ is the smallest number of pips shown on the die.
The 12 stones to the counterclockwise of this break become the Kong Stack.

Each player, starting with the host and continuing in counterclockwise direction, takes four stones from the clockwise side of the break, and again, and once more. Now the host takes a tile, and takes the fourth tile, leaving the other three for the other players to take one by one.

The host should have 14 stones and all the other players 13. A turn starts.

\subsection{Turns}
A turn works as follows:
\begin{enumerate*}
    \item A player starts the turn by one of the following options. If multiple people can start the turn, priority goes to the highest item on the list. If multiple people can complete their hand, priority goes to the person who is closest in counterclockwise direction.
    \begin{enumerate*}
        \item The host starts the first turn (without drawing a tile, as she already has one extra). She may complete her hand if she can.
        \item A player completes their hand using the tile that was just discarded.
        \item A player makes a Pung using the tile that was just discarded. Any player that can make a Pung using that tile can do this.

        First, she shouts ``Pung''. She takes the tile, and puts it open in front of her hand. Then she takes two duplicate tiles from her hand and adds them, open, next to the tile she just took.
        \item A player makes an open Kong using the tile that was just discarded. Any player that can make a Kong using that tile and three hidden tiles in her hand can do this.

        First, she shouts ``Kong''. She takes the tile, and puts it open in front of her hand. Then she takes three duplicate tiles that were hidden in her hand and adds them, open, next to the tile she just took.
        She get a point from the player that discarded the tile. This point doesn't get doubled.

        Now she takes a tile from the Kong Stack and adds it to her hand to replace the fourth tile she used for that set.
        \item The player to the right of the last player takes a new tile from the Wall. She can complete her hand this way.
    \end{enumerate*}
    \item If a player has a Kong hidden in their hand she can declare it and place the four tiles, face down, in front of the rest of her hand.
    Everyone who hasn't completed their hand gives her two points (these points don't get doubled).
    She takes a new tile from the Kong stack.
    \item If a player has a hidden tile in their hand that matches a revealed Kong she has, she can turn the Kong into a Pung using that tile.
    Everyone who hasn't completed their hand gives her a point (this point doesn't get doubled).
    She takes a new tile from the Kong stack.
    \item The player ends the turn:
        \begin{enumerate*}
            \item If the player has completed her hand, she says this. She does not reveal her hand until the end of the round.
            \item Otherwise, she discards a tile from her hand.
        \end{enumerate*}
\end{enumerate*}

A round ends when all players have completed their hand, or the Wall has no more tiles left. The players figure out the score and exchange points. The first player that completed their hand becomes host for the next turn.

\subsection{Scoring a round}
Points are exchanged according to the following rules:
\begin{itemize*}
    \item If player A completed her hand before player B, then player A never has to give points to player B.
    \item You get a point from all players that finish after you if you complete your hand with a stone you took from the wall.
    \item If you finish your hand from a discard, you get a point from the player who discarded.
    \item If the round ends and you haven't completed your hand, but you do have a fishing hand, you get a point from every player who doesn't have a fishing hand.
    \item If a player gives or receives points and she is host, she receives or gives double points.
    \item Every Kong a player has doubles the points she gets.

        % Suggestions from a book:
        % points for completing hand from tile taken after Kong
        % points for completing hand from last available tile in wall
        % Bonus for hidden vs open Pung/Kong
        %TODO: make twan finish rules
\end{itemize*}

\section{Fouls}
If a player forgets to draw a stone, or forgets to discard a stone, she can no longer win the game because she hasn't got a hand that can be completed properly.
If a player does both without anyone noticing, she got lucky.

\section{Variants}
\subsection{Tragedy of the commons}
% TODO: Ask Rongfang what exactly whe meant
In this variant the last stone in the Kong stack is turned over. This stone is called the commons.
% It's only called that because I couldn't think of a better name for this variant.

In addition to the other options for starting a turn, a player can use the commons to complete their hand.
This has priority above making a Pung from the discarded stone, but below completing a hand from the discarded stone.

After the commons have been used, no new stone gets turned over.
Once one person overuses the commons, no one can use it anymore.
% We should discuss this, but this way it fits the title better.

\subsection{Finding pearls}
The set we use includes 8 joker stones that we don't use in the game. Instead of sorting these out we can just leave them in, and put aside 8 points.

If someone draws a joker, she puts it in the box (so it doesn't get included in future rounds) and earns one of the points that was put aside (This point doesn't get doubled). She then draws a new tile.

% TODO: Rongfang has a variant where you complete your hand but still keep playing.
% TODO: Strip Mahjong
\end{document}
